{% extends "global/Page.html" %}
{% load otree static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'global/custom.css' %}" />
{% endblock %}

{% block title %}
<header><p>{{Constants.header}}</p></header>
    Hasil
{% endblock %}

{% block content %}

<h5>Periode latihan ke-{{round}}</h5>
<br>
<p>Waktu bermain {{player.waktu}} Detik dan jawaban yang benar adalah {{player.performance}}, dengan rincian:</p>
<table class="hasil">
    <tr>
        <td style="width: 30%;">
            <h4>Omset</h4>{{player.performance}} x <span id="base_omset"></span> EU<br><br>
            <h4><span id="omset"></span> EU</h4>
        </td>
        <td style="width: 30%;">
            <h4>Biaya</h4>{{base_biaya}}% x <span id="omset2"></span> EU<br><br>
            <h4><span id="biaya"></span> EU</h4>
        </td>
        <td style="width: 30%;">
            <h4>Laba</h4><span id="omset3"></span> EU - <span id="biaya2"></span> EU<br><br>
            <h4><span id="laba2"></span> EU</h4>
        </td>
    </tr>
</table>
<br>
<table class="notif">
    <tr>
        <td>
            <h5>Anda dapat mencatat hasil game effort (omset/biaya/laba) Anda untuk periode ini menggunakan alat tulis yang sudah Anda siapkan</h5>
        </td>
    </tr>
</table>
    <br><br><br><br><br><br>
    <p>Tekan tombol 'Lanjut' untuk melanjutkan ke tahap berikutnya.</p>
    <button class="otree-btn-next btn btn-primary">Lanjut</button>

<script>
    function thousands_separators(num)
    {
        var num_parts = num.toString().split(".");
        num_parts[0] = num_parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        return num_parts.join(".");
    }
    document.getElementById("base_omset").textContent = thousands_separators({{base_omset}});
    document.getElementById("omset").textContent = thousands_separators({{player.total_omset}});
    document.getElementById("omset2").textContent = thousands_separators({{player.total_omset}});
    document.getElementById("omset3").textContent = thousands_separators({{player.total_omset}});
    document.getElementById("biaya").textContent = thousands_separators({{player.total_biaya}});
    document.getElementById("biaya2").textContent = thousands_separators({{player.total_biaya}});
    //document.getElementById("laba").textContent = thousands_separators({{player.total_omset}} - {{player.total_biaya}})
    document.getElementById("laba2").textContent = thousands_separators({{player.total_omset}} - {{player.total_biaya}})

</script>
{% endblock %}

